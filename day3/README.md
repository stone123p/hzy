# Day3
------
##React.js
------
##3_1
------
###index.html
```
<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'/>
  <title>React JS</title>
  <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css' rel='stylesheet' type='text/css'/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js'></script>
</head>
<body>
  <h1>React JS</h1>
  <div id='file_list'/>
  <script src='./js/mylinks.js'></script>
</body>
</html>
```
------
### js/mylinks.js
```
var files = ['3_01.html'];
var files_div = document.getElementById('file_list');
var ordered_list = document.createElement('ol');
files_div.appendChild(ordered_list);
files.map(function(f){
  var list = document.createElement('li');
  var anchor = document.createElement('a');
  anchor.href = './' + f;
  anchor.innerHTML = f;
  list.appendChild(anchor);
  ordered_list.appendChild(list);
});
```
### 3_01.html
```
<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'/>
  <title>React JS 3_01</title>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js'></script>
</head>
<body>
  <a href='./index.html'>&lt;&lt;返回</a>
  <!-- 這是html 的註解，瀏覽器不顯示  -->
  <div id='app'/> <!-- React.js 的掛載點-->
  <!-- 下面這段是 react 的 jsx，今天的學習重點 -->
  <script type='text/jsx'>
    React.render(
      <h1>Hello, there!</h1>,
      document.getElementById('app')
    );
  </script>
</body>
</html>
```
------
## React.render()函式說明:
```
/*
  功能：把要呈現的React元件，掛載到指定的DOM 節點(元素)
*/
React.render(
  ReactElement element,  // 要掛載的React元件(掛什麼？)
  DOMElement container,  // 要掛載的DOM節點(掛在哪？)
  [function callback]    // 選用(可以不寫)：回呼函式
)
```
## 3_2
因為我們希望瀏覽器端JavaScript應用程式的開發能夠模組化（ 將程式按照功能與需求分割到多個檔案，以方便維護）。讓瀏覽器端的開發環境與伺服器端node.js的開發環境一致，同時，希望能夠將各個模組的檔案，集中壓縮成一個Javascript檔案。所以，我們需要用到 Browserify 這個套件。
但，為了能夠轉換JSX的程式碼，我們也需要用到 Reactify 這個套件。若要自動編譯，則需要再加入 Watchify 套件。

以上的套件，是為了開發環境而安裝，程式本身並沒有引用這些套件。

開發環境套件的安裝方式：
npm install <套件名稱> --save-dev。這樣可以在安裝完套件之後，更新我們的package.json。--save-dev會更新 devDependencies屬性的內容。

在這裡我們要用到的套件安裝指令：
```
npm install browserify envify react reactify watchify --save-dev
```
------

除此之外，我們程式所需要涵括的相關程式庫，也必須以套件的方式安裝在我們專案的資料夾之內(node_modules)。React 所需安裝的套件如下：
```
npm install react flux underscore --save
```
------
### package.json的修改
JSX檔的轉換：修改package.json 讓 browserify 可以使用 reactify 來轉換 jsx 。在 package.json 加入以下的設定：
```
,
"browserify": {
  "transform": [
    "reactify",
    "envify"
  ]
}

```
script指令的修改：修改以下的script屬性
```
scripts:{
  "start": "node server",
  "build": "browserify client/app.js > public/js/bundle.min.js",
  "watch": "watchify client/app.js -o public/js/bundle.min.js"
}
```
------
## 在 day3 資料夾下面新增 client 資料夾，以後用戶端程式都放在這裡。
-----

3_02.html
```
<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'/>
  <title>React JS 3_02</title>
</head>
<body>
  <a href='./index.html'>&lt;&lt;返回</a>
  <!-- 這是html 的註解，瀏覽器不顯示  -->
  <div id='app'/><!-- React.js 的掛載點-->
  <!-- 下面這段是 react 的 jsx，今天的學習重點 -->
  <script src='./js/bundle.min.js'>
  </script>
</body>
</html>
```
client/app.js
```
var React = require('react');
React.render(
  <h1>Hello, there. Generated by using browserify.</h1>,
  document.getElementById('app')
);
```
##編譯Javascript:
```
npm run build
```
##自動編譯Javascript:
```
npm run watch
```

###3_03.html
```
<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'/>
  <title>React JS 3_03</title>
</head>
<body>
  <a href='./index.html'>&lt;&lt;返回</a>
  <div id='app'/>
  <script src='./js/bundle.min.js'>
  </script>
</body>
</html>
```
###app.js
```
var React = require('react');
var Images = require('./images.js');
var imgs = ['01.jpg', 'minions.jpg', '03.jpg', '02.jpg'];
React.render(
    <Images imgs={imgs} dir='./img/' />,
    document.getElementById('app')
);
```
###images.js
```
var React = require('react');

var Images = React.createClass({
  render: function(){
    var dir = this.props.dir;
    return (
      <div class='thumbnail'>
        {this.props.imgs.map(function(i){
           return(
              <img src={dir + i} />
             );
        })}
      </div>
      );
  }
});
module.exports = Images;
```
------
## React.createClass()函式說明:
```
/*
  功能：產生React元件的類別。參數為物件規格(Javascirpt 的物件以大括弧{成員:成員定義}表示)。
  規格中至少必須定義render函式。render函式一定要傳回單一 DOM 節點。
  此節點，可以包含其他節點。
*/
React.createClass(
  object specification // 物件的規格。
)

//最基本的規格定義：
React.createClass(
  {
    render: function(){ return 單一DOM節點(可以用jsx呈現);}
  }
);
```
## 模組的程式檔寫法。
```
var React = require('react');

var 元件名稱 = React.createClass(物件規格);

module.exports = 元件名稱;
```

